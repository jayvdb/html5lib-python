[tox]
envlist = {py26,py27,py33,py34,py35,pypy}-{base,optional}

[testenv]
deps =
  -r{toxinidir}/requirements-test.txt
  optional: -r{toxinidir}/requirements-optional.txt

commands =
  coverage run -m pytest
  flake8
  pylint --rcfile={toxinidir}/.pylintrc html5lib

[testenv:lint]
commands =
  flake8 {posargs}
  pylint --rcfile={toxinidir}/.pylintrc {posargs:html5lib}

[flake8]
exclude = ./.tox
